(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1633:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(5155),o=s(2115);function n(){return(0,o.useEffect)(()=>{console.log("\uD83D\uDE80 ~ ServiceWorkerRegister ~ process.env.NODE_ENV:","production"),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("[Service Worker] Registered:",e)}).catch(e=>{console.error("[Service Worker] Registration failed:",e)})})},[]),(0,r.jsx)(r.Fragment,{})}},1671:(e,t,s)=>{"use strict";s.d(t,{n:()=>n,d:()=>a});var r=s(4095),o=s(5453);let n=(0,o.v)((e,t)=>({token:null,setToken:t=>{e({token:t}),localStorage.setItem(r.AQ.TOKEN,null!=t?t:"")},removeToken:()=>{e({token:null}),localStorage.removeItem(r.AQ.TOKEN)}})),a=(0,o.v)((e,t)=>({roles:[],equipments:[],cheerTypes:[],cheerStyles:[],measurementUnits:[],setRoles:t=>e({roles:t}),setEquipments:t=>e({equipments:t}),setCheerTypes:t=>e({cheerTypes:t}),setCheerStyles:t=>e({cheerStyles:t}),setMeasurementUnits:t=>e({measurementUnits:t})}))},1829:(e,t,s)=>{"use strict";s.d(t,{v:()=>u});var r=s(2461),o=s(2177),n=s(7129),a=s(8393),i=s(1671),l=s(3486),c=s(4095);let u=e=>{let{setToken:t}=(0,i.n)(),s=(0,n.Ik)().shape({email:(0,n.Yj)().email("Please enter a valid email").required("Please enter your email"),password:(0,n.Yj)().required("Please enter your password")}),{control:u,handleSubmit:d}=(0,o.mN)({resolver:(0,r.t)(s),defaultValues:{email:"",password:""}}),v=(0,o.FH)({control:u,name:"password",defaultValue:""});return{control:u,password:v,onSubmit:d(async s=>{console.log(s);try{var r;let o=(await a.xe.login(s)).data.data.access_token;t(o),null==e||null==(r=e.onSuccess)||r.call(e,{token:o})}catch(e){console.log(e)}},()=>{}),loginWithProvider:async s=>{let{accessToken:r,provider:o}=s;try{let s="";if(o===l.h.Twitter){window.location.href="https://04v138yl61.execute-api.ap-southeast-1.amazonaws.com/staging/api/v1/"+c.Se.AUTH_LOGIN_TWITTER;return}if([l.h.Facebook,l.h.Google,l.h.Instagram].includes(o)&&r&&(s=(await a.xe.loginSocial({provider:o,accessToken:r})).data.data.token.access_token,t(s)),s){var n;null==e||null==(n=e.onSuccess)||n.call(e,{token:s})}}catch(e){console.log(e)}}}}},3486:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});var r=function(e){return e.Facebook="FACEBOOK",e.Google="GOOGLE",e.Instagram="INSTAGRAM",e.Twitter="TWITTER",e}({})},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(2596),o=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.QP)((0,r.$)(t))}},4095:(e,t,s)=>{"use strict";s.d(t,{Se:()=>n,bO:()=>r,bw:()=>a,AQ:()=>i,yd:()=>o});let r=[{value:"imperial",label:"Imperial (lb, ft)"},{value:"metric",label:"Metric (kg, m)"}],o=[{value:"athlete",label:"Athlete"},{value:"coach",label:"Coach"}],n={EQUIPMENTS:"equipments",CHEER_STYLES:"cheer-styles",CHEER_TYPES:"cheer-types",ROLES:"roles",USERS:"users",SIGNUP:"users/signup",AUTH_LOGIN:"auth/login",AUTH_LOGIN_SOCIAL:"auth/social-login",AUTH_LOGIN_TWITTER:"auth/twitter/login"},a={WELCOME:"welcome",HOME:"home",SIGNUP:"signup",LOGIN:"login",PROFILE:"profile",PRIVACY:"privacy",TERMS_AND_CONDITIONS:"term-and-conditions",ABOUT_US:"about-us"},i={TOKEN:"token"}},4856:(e,t,s)=>{Promise.resolve().then(s.bind(s,9347)),Promise.resolve().then(s.bind(s,5536)),Promise.resolve().then(s.bind(s,1633)),Promise.resolve().then(s.bind(s,9259)),Promise.resolve().then(s.bind(s,8778)),Promise.resolve().then(s.bind(s,7347)),Promise.resolve().then(s.t.bind(s,5688,23)),Promise.resolve().then(s.t.bind(s,9432,23)),Promise.resolve().then(s.t.bind(s,9324,23))},5536:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(5155),o=s(2115),n=s(7168),a=s(6683),i=s(4616);function l(){let[e,t]=(0,o.useState)(!1),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[d,v]=(0,o.useState)(!1),p=async()=>{c&&c.prompt&&(c.prompt(),console.log("User response to install prompt:",await c.userChoice),u(null),v(!1))};return((0,o.useEffect)(()=>{t(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),l(window.matchMedia("(display-mode: standalone)").matches);let e=e=>{e.preventDefault(),u(e),v(!0)};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]),(0,o.useEffect)(()=>{console.log({isIOS:e,isStandalone:s,navigator})},[e,s]),s)?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold mb-2",children:"Install App"}),d&&(0,r.jsx)(n.$,{className:"mb-2",onClick:p,children:"Install App"}),e&&(0,r.jsxs)("p",{className:"mb-2",children:["To install this app on your iOS device, tap the share button",(0,r.jsx)(a.A,{className:"inline mx-2",size:20}),'and then "Add to Home Screen"',(0,r.jsx)(i.A,{className:"inline mx-2",size:20}),"."]})]})}},5688:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(5155);s(2115);var o=s(9708),n=s(2085),a=s(3999);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 text-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:n,asChild:l=!1,...c}=e,u=l?o.DX:"button";return(0,r.jsx)(u,{"data-slot":"button",className:(0,a.cn)(i({variant:s,size:n,className:t})),...c})}},8393:(e,t,s)=>{"use strict";s.d(t,{xe:()=>n,LA:()=>r,ip:()=>o});var r={};s.r(r),s.d(r,{getCheerStyles:()=>d,getCheerTypes:()=>p,getEquipments:()=>m,getRoles:()=>v});var o={};s.r(o),s.d(o,{registerUser:()=>g});var n={};s.r(n),s.d(n,{login:()=>h,loginSocial:()=>b,loginTwitter:()=>f});var a=s(3464),i=s(1671),l=s(8543);let c=a.A.create({baseURL:"https://04v138yl61.execute-api.ap-southeast-1.amazonaws.com/staging/api/v1"});c.interceptors.request.use(e=>{let t=i.n.getState();return t.token&&e.headers.set("Authorization","Bearer ".concat(t.token)),e},e=>(console.log("\uD83D\uDE80 ~ error:",e),Promise.reject(e))),c.interceptors.response.use(e=>e,e=>{var t,s,r,o;if((null==(t=e.response)?void 0:t.status)===401){console.warn("Unauthorized. Redirecting to login...");let t=null==e||null==(r=e.response)?void 0:r.data,s=null!=(o=null==t?void 0:t.message)?o:null==e?void 0:e.message;l.oR.error(s)}else(null==(s=e.response)?void 0:s.status)===500&&console.error("Server error occurred");return console.log("\uD83D\uDE80 ~ error:",e),Promise.reject(e)});var u=s(4095);let d=()=>c.get(u.Se.CHEER_STYLES),v=()=>c.get(u.Se.ROLES),p=()=>c.get(u.Se.CHEER_TYPES),m=()=>c.get(u.Se.EQUIPMENTS),g=e=>c.post(u.Se.SIGNUP,e),h=e=>c.post(u.Se.AUTH_LOGIN,e),b=e=>c.post(u.Se.AUTH_LOGIN_SOCIAL,e),f=()=>c.get(u.Se.AUTH_LOGIN_TWITTER)},8778:(e,t,s)=>{"use strict";s.d(t,{TwitterLogin:()=>l});var r=s(5155),o=s(7168),n=s(7347),a=s(1829),i=s(3486);function l(e){let{loginWithProvider:t}=(0,a.v)({onSuccess:()=>{}}),s=async()=>{t({provider:i.h.Twitter})};return(0,r.jsxs)(o.$,{variant:"outline",className:"w-full",onClick:s,disabled:!0,children:[(0,r.jsx)(n.Icon,{icon:"simple-icons:twitter",color:"#1DA1F2"}),(0,r.jsx)("span",{className:"sr-only",children:"Twitter"})]})}},9259:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(5155),o=s(8543);function n(){return(0,r.jsx)(o.N9,{})}s(5716)},9324:()=>{},9347:(e,t,s)=>{"use strict";s.d(t,{FacebookLogin:()=>p});var r=s(5155),o=s(2115),n=s(9509),a=s(7168),i=s(7347),l=s(1829),c=s(3486),u=s(5695),d=s(4095),v=s(9509);function p(e){let{type:t}=e,s=(0,u.useRouter)(),{loginWithProvider:p}=(0,l.v)({onSuccess:()=>{s.replace(d.bw.HOME)}});(0,o.useEffect)(()=>{var e;e=v.env.NEXT_PUBLIC_FACEBOOK_APP_ID,new Promise(t=>{if(window.FB)return t({});window.fbAsyncInit=function(){window.FB.init({appId:e,cookie:!0,xfbml:!1,version:n.env.NEXT_PUBLIC_FACEBOOK_API_VERSION}),t({})};let s=document.createElement("script");s.src="https://connect.facebook.net/en_US/sdk.js",s.async=!0,document.body.appendChild(s)})},[]);let m=e=>{try{let{status:t,authResponse:s}=e;if(console.log("\uD83D\uDE80 ~ login ~ status, authResponse:",t,s),"connected"===t&&s){let{accessToken:t}=e.authResponse;p({accessToken:t,provider:c.h.Facebook})}else throw Error("Login failed")}catch(e){console.error(e)}};return(0,r.jsxs)(a.$,{variant:"outline",className:"w-full",onClick:()=>{window.FB.login(m,{scope:"public_profile,email"})},disabled:"signup"===t,children:[(0,r.jsx)(i.Icon,{icon:"simple-icons:facebook",color:"#1877F2"}),(0,r.jsx)("span",{className:"sr-only",children:"Facebook"})]})}},9432:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}}},e=>{var t=t=>e(e.s=t);e.O(0,[797,261,983,391,367,441,684,358],()=>t(4856)),_N_E=e.O()}]);